{"openapi": "3.1.0", "info": {"title": "Mobile API", "version": "v4", "description": "API for mobile app. Allows to retrieve list of elections, questions, and to submit answers."}, "paths": {"/api/v4/{country}/regions/": {"get": {"operationId": "ufo_mobile_api_v4_country_get_regions_get_regions", "summary": "Get Regions", "parameters": [{"in": "path", "name": "country", "schema": {"enum": ["ru", "ua", "bg", "kz"], "title": "Country", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/RegionSchema"}, "title": "Response", "type": "array"}}}}}, "description": "Get regions with tiks, municipal districts and corresponding uik ranges."}}, "/api/v4/{country}/questions/": {"get": {"operationId": "ufo_mobile_api_v4_country_get_questions_get_questions", "summary": "Get Questions", "parameters": [{"in": "path", "name": "country", "schema": {"enum": ["ru", "ua", "bg", "kz"], "title": "Country", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/QuizTopicSchema"}, "title": "Response", "type": "array"}}}}}, "description": "Get quiz topics with questions."}}, "/api/v4/{country}/regions/{region}/elections/": {"get": {"operationId": "ufo_mobile_api_v4_region_get_elections_get_elections", "summary": "Get Elections", "parameters": [{"in": "path", "name": "country", "schema": {"enum": ["ru", "ua", "bg", "kz"], "title": "Country", "type": "string"}, "required": true}, {"in": "path", "name": "region", "schema": {"title": "Region", "type": "integer"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/Election"}, "title": "Response", "type": "array"}}}}}, "description": "Get elections running from past month to the next month in given region.\nIncludes federal, regional, and municipal elections."}}, "/api/v4/{country}/regions/{region}/organizations/": {"get": {"operationId": "ufo_mobile_api_v4_region_get_organizations_get_organizations", "summary": "Get Organizations", "parameters": [{"in": "path", "name": "country", "schema": {"enum": ["ru", "ua", "bg", "kz"], "title": "Country", "type": "string"}, "required": true}, {"in": "path", "name": "region", "schema": {"title": "Region", "type": "integer"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/OrgSchema"}, "title": "Response", "type": "array"}}}}}, "description": "Get organizations in given region."}}, "/api/v4/answers/{id}": {"patch": {"operationId": "ufo_mobile_api_v4_answers_patch_answer", "summary": "Patch Answer", "parameters": [{"in": "path", "name": "id", "schema": {"title": "Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK"}}, "description": "Update Answer. User can revoke it or add tik/uik complaint.", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/AnswerPatch"}}}, "required": true}}}, "/api/v4/answers/": {"post": {"operationId": "ufo_mobile_api_v4_answers_post_answer", "summary": "Post Answer", "parameters": [], "responses": {"201": {"description": "Created", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/StatusResponse"}}}}}, "description": "Create new answer.", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/AnswerSchema"}}}, "required": true}}}}, "components": {"schemas": {"MunokrugSchema": {"properties": {"id": {"anyOf": [{"maxLength": 50, "type": "string"}, {"type": "null"}], "title": "Id"}, "name": {"title": "Name", "type": "string"}, "uik_ranges": {"default": "[]", "title": "Uik Ranges", "type": "string"}, "ikmo_phone": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Ikmo Phone"}, "ikmo_email": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Ikmo Email"}, "ikmo_address": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Ikmo Address"}}, "required": ["name"], "title": "MunokrugSchema", "type": "object"}, "RegionSchema": {"properties": {"id": {"title": "Id", "type": "string"}, "name": {"title": "Name", "type": "string"}, "tiks": {"items": {"$ref": "#/components/schemas/TikSchema"}, "title": "Tiks", "type": "array"}, "munokruga": {"items": {"$ref": "#/components/schemas/MunokrugSchema"}, "title": "Munokruga", "type": "array"}}, "required": ["id", "name", "tiks", "munokruga"], "title": "RegionSchema", "type": "object"}, "TikSchema": {"properties": {"uik_ranges": {"anyOf": [{"items": {"items": {"type": "integer"}, "type": "array"}, "type": "array"}, {"type": "null"}], "title": "Uik Ranges"}, "id": {"anyOf": [{"maxLength": 40, "type": "string"}, {"type": "null"}], "title": "Id"}, "name": {"title": "Name", "type": "string"}, "email": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Email"}, "phone": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Phone"}, "address": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address"}}, "required": ["uik_ranges", "name"], "title": "TikSchema", "type": "object"}, "Question": {"properties": {"id": {"anyOf": [{"maxLength": 50, "type": "string"}, {"type": "null"}], "title": "Id"}, "type": {"default": "YESNO", "maxLength": 20, "title": "Type", "type": "string"}, "label": {"title": "Label", "type": "string"}, "fz67_text": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Fz67 Text"}, "advice_text": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Advice Text"}, "example_uik_complaint": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Example Uik Complaint"}, "elect_flags": {"anyOf": [{"type": "object"}, {"type": "null"}], "title": "Elect Flags"}, "limiting_questions": {"anyOf": [{"type": "object"}, {"type": "null"}], "title": "Limiting Questions"}, "incident_conditions": {"anyOf": [{"type": "object"}, {"type": "null"}], "title": "Incident Conditions"}}, "required": ["label"], "title": "Question", "type": "object"}, "QuizTopicSchema": {"properties": {"id": {"title": "Id", "type": "string"}, "name": {"title": "Name", "type": "string"}, "questions": {"items": {"$ref": "#/components/schemas/Question"}, "title": "Questions", "type": "array"}}, "required": ["id", "name", "questions"], "title": "QuizTopicSchema", "type": "object"}, "Election": {"properties": {"name": {"title": "Name", "type": "string"}, "flags": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Flags"}, "region": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Region"}, "munokrug": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Munokrug"}, "date": {"format": "date", "title": "\u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f", "type": "string"}}, "required": ["name", "date"], "title": "Election", "type": "object"}, "Contact": {"properties": {"name": {"maxLength": 200, "title": "Name", "type": "string"}, "value": {"maxLength": 1000, "title": "Value", "type": "string"}, "type": {"maxLength": 3, "title": "Type", "type": "string"}}, "required": ["name", "value", "type"], "title": "Contact", "type": "object"}, "OrgSchema": {"properties": {"contacts": {"items": {"$ref": "#/components/schemas/Contact"}, "title": "Contacts", "type": "array"}, "id": {"anyOf": [{"maxLength": 50, "type": "string"}, {"type": "null"}], "title": "Id"}, "name": {"maxLength": 1000, "title": "Name", "type": "string"}}, "required": ["contacts", "name"], "title": "OrgSchema", "type": "object"}, "AnswerPatch": {"properties": {"app_id": {"title": "App Id", "type": "string"}, "revoked": {"title": "Revoked", "type": "boolean"}, "tik_complaint_text": {"title": "Tik Complaint Text", "type": "string"}, "tik_complaint_status": {"anyOf": [{"const": "\u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440\u0443", "type": "string"}, {"type": "null"}], "title": "Tik Complaint Status"}, "uik_complaint_status": {"title": "Uik Complaint Status", "type": "string"}}, "required": ["app_id", "revoked", "tik_complaint_text", "tik_complaint_status", "uik_complaint_status"], "title": "AnswerPatch", "type": "object"}, "StatusResponse": {"properties": {"status": {"title": "Status", "type": "string"}}, "required": ["status"], "title": "StatusResponse", "type": "object"}, "AnswerSchema": {"properties": {"question_id": {"title": "Question Id", "type": "string"}, "region_id": {"title": "Region Id", "type": "string"}, "uik_complaint_status": {"title": "Uik Complaint Status", "type": "integer"}, "tik_complaint_status": {"anyOf": [{"const": "\u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440\u0443", "type": "string"}, {"type": "null"}], "title": "Tik Complaint Status"}, "app_id": {"title": "App Id", "type": "string"}, "value": {"anyOf": [{"type": "integer"}, {"type": "boolean"}], "title": "Value"}, "id": {"anyOf": [{"maxLength": 40, "type": "string"}, {"type": "null"}], "title": "Id"}, "tik_complaint_text": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tik Complaint Text"}, "timestamp": {"format": "date-time", "title": "\u041a\u043e\u0433\u0434\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0432\u0432\u0435\u043b \u043e\u0442\u0432\u0435\u0442", "type": "string"}, "is_incident": {"title": "Is Incident", "type": "boolean"}, "role": {"maxLength": 15, "title": "Role", "type": "string"}, "uik": {"title": "Uik", "type": "integer"}, "revoked": {"default": false, "title": "\u041e\u0442\u043e\u0437\u0432\u0430\u043d\u043e", "type": "boolean"}}, "required": ["question_id", "region_id", "uik_complaint_status", "tik_complaint_status", "app_id", "value", "timestamp", "is_incident", "role", "uik"], "title": "AnswerSchema", "type": "object"}}}, "servers": []}